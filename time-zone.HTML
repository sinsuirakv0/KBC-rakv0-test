<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KBC World Time</title>
  <script src="js/ogp-loader.js"></script>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
  <style>
    /* ページ固有の高度なスタイル */
    .hero { text-align:center; padding:18px; background:var(--card); border-radius:12px; margin-bottom:16px; border:1px solid var(--glass); }
    .hero h2 { color:var(--accent); margin:0; }
    .hero p { color:var(--muted); font-size:13px; }
    
    .grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:16px; }
    .big-time { font-family: 'JetBrains Mono', monospace; font-size: 24px; color: var(--text); font-weight: bold; }
    .small-muted { font-size: 12px; color: var(--muted); opacity: 0.8; }
    
    .tz-list { background: var(--glass); border-radius: 8px; max-height: 400px; overflow-y: auto; padding: 8px; border: 1px solid rgba(255,255,255,0.05); }
    .tz-row { display: flex; justify-content: space-between; padding: 8px; border-radius: 4px; cursor: pointer; font-size: 13px; }
    .tz-row:hover { background: rgba(59,130,246,0.1); }
    
    .btn-action { background: var(--accent); color: white; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px; }
    input[type="datetime-local"], #tzSearch { background: var(--glass); border: 1px solid rgba(255,255,255,0.1); color: var(--text); padding: 8px; border-radius: 6px; }
  </style>
</head>
<body class="fade-in">

  <div class="container">
    <header class="header">
      <div class="header-left">
        <img src="logo.png" alt="ロゴ" id="logo">
        <h1 class="site-title">KBC</h1>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
      </nav>
    </header>

    <section class="hero">
      <h2>World Time Viewer</h2>
      <p>各地域の時刻を確認・比較できます。カスタムカードを選択してリストから割当可能です。</p>
    </section>

    <div class="grid">
      <div class="card">
        <h3>日本 (JST)</h3>
        <div class="big-time" id="jst-time">--:--:--</div>
        <div class="small-muted" id="jst-date">----</div>
      </div>

      <div class="card">
        <h3>米領サモア (UTC-11)</h3>
        <div class="big-time" id="samoa-time">--:--:--</div>
        <div class="small-muted" id="samoa-date">----</div>
      </div>

      <div class="card">
        <h3>キリバス (UTC+14)</h3>
        <div class="big-time" id="kiri-time">--:--:--</div>
        <div class="small-muted" id="kiri-date">----</div>
      </div>

      <div class="card" style="border: 1px solid var(--accent);">
        <h3>JST 36時間後 → キリバス</h3>
        <div class="big-time" id="kiri-plus-time">--:--:--</div>
        <div class="small-muted" id="kiri-plus-date">----</div>
      </div>

      <div class="card" style="grid-column: span 1;">
        <h3>Custom Cards</h3>
        <div id="changeablesContainer"></div>
        <div style="display:flex; gap:8px; margin-top:10px; align-items:center;">
          <button id="addCard" class="btn-action">＋ 追加</button>
          <span class="small-muted">対象: <b id="activeCardLabel">なし</b></span>
        </div>
        <hr style="border:0; border-top:1px solid rgba(255,255,255,0.1); margin:15px 0;">
        <div class="small-muted" style="margin-bottom:5px;">基準時刻シミュレーション:</div>
        <input id="manualDatetime" type="datetime-local" style="width:100%; margin-bottom:8px;">
        <div style="display:flex; gap:8px;">
          <button id="applyManual" class="btn-action" style="flex:1;">適用</button>
          <button id="resetToNow" class="btn-action" style="flex:1; background:transparent; border:1px solid var(--muted);">リセット</button>
        </div>
      </div>

      <div class="card">
        <h3>Timezone Selector</h3>
        <input id="tzSearch" placeholder="都市・地域を検索..." style="width:100%; margin-bottom:10px;">
        <div class="tz-list" id="tzList"></div>
      </div>
    </div>

    <footer style="text-align:center; padding:20px; opacity:0.5; font-size:12px;">
      &copy; KBC World Time Viewer
    </footer>
  </div>

  <script src="js/tz-logic.js"></script>
  <script src="secret.js"></script>
</body>
</html>

